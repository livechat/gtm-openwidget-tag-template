___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "OpenWidget Tag",
  "categories": ["ATTRIBUTION", "LEAD_GENERATION", "MARKETING", "SOCIAL", "SURVEY"],
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "The OpenWidget tag enables you to add free widgets to your website to support your customers. For more information, visit https://openwidget.com/.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "organizationId",
    "displayName": "OpenWidget Organization ID",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "STRING_LENGTH",
        "args": [
          1,
          100
        ]
      }
    ],
    "notSetText": "Please provide the OpenWidget Organization ID",
    "valueHint": "e.g. 333810bb-0f40-44c4-87b7-8e56c6b8b15f"
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const copyFromWindow = require('copyFromWindow');
const setInWindow = require('setInWindow');
const injectScript = require('injectScript');
const logToConsole = require('logToConsole');

var __ow = copyFromWindow('__ow') || {};
__ow.organizationId = data.organizationId;

setInWindow('__ow', __ow);

injectScript('https://cdn.openwidget.com/openwidget.js', data.gtmOnSuccess, data.gtmOnFailure);


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "__ow"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://cdn.openwidget.com/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: should set the organization ID on __ow object in window
  code: |
    const copyFromWindow = require('copyFromWindow');

    const scriptData = {
      organizationId: '333810bb-0f40-44c4-87b7-8e56c6b8b15f',
    };

    // Call runCode to run the template's code.
    runCode(scriptData);

    // Verify that the __ow.organizationId was set
    const __ow = copyFromWindow('__ow');
    assertThat(__ow.organizationId).isEqualTo(scriptData.organizationId);
- name: should inject the script with correct CDN link and success and failure handlers
  code: |
    const scriptData = {
      organizationId: '333810bb-0f40-44c4-87b7-8e56c6b8b15f',
      gtmOnSuccess: 'successHandler',
      gtmOnFailure: 'bar'
    };

    // Call runCode to run the template's code.
    runCode(scriptData);

    // Verify that the injectScript was called with CDN link and success and failure handlers
    assertApi('injectScript').wasNotCalledWith('https://cdn.openwidget.com/openwidget.js', 'foo', 'bar');
- name: should copy __ow from window
  code: |
    const scriptData = {
      organizationId: '333810bb-0f40-44c4-87b7-8e56c6b8b15f',
    };

    // Call runCode to run the template's code.
    runCode(scriptData);

    // Verify that the copyFromWindow was called
    assertApi('copyFromWindow').wasCalledWith('__ow');
setup: ''


___NOTES___

Created on 27/10/2023, 16:27:23


